# 위젯 날짜 정렬 버그 수정

## 버그 개요
- **발견일**: 2026-02-02
- **위치**: `app/src/main/java/com/fitlog/widget/FitLogWidget.kt`
- **증상**: 위젯에서 요일 헤더(월화수목금토일)와 날짜가 맞지 않고 매일 한 칸씩 밀림

## 원인 분석

### 문제의 코드 (수정 전)
```kotlin
// FitLogWidget.kt:41-42
val today = LocalDate.now()
val startDate = today.minusDays(13)  // 문제: 매일 시작 요일이 달라짐
```

### 요일 헤더 (고정됨)
```kotlin
// FitLogWidgetContent.kt:81
listOf("월", "화", "수", "목", "금", "토", "일")  // 항상 월요일부터 시작
```

### 불일치 발생 원리
| 오늘 날짜 | 오늘 요일 | 13일 전 날짜 | 13일 전 요일 | 밀림 정도 |
|-----------|-----------|--------------|--------------|-----------|
| 2026-02-02 | 월요일 | 2026-01-20 | 화요일 | 1칸 밀림 |
| 2026-02-03 | 화요일 | 2026-01-21 | 수요일 | 2칸 밀림 |
| 2026-02-04 | 수요일 | 2026-01-22 | 목요일 | 3칸 밀림 |

요일 헤더는 항상 "월화수목금토일"로 고정되어 있는데, 날짜 데이터의 시작점이 매일 하루씩 이동하므로 날짜와 요일이 점점 어긋남.

## 해결 방법

### 수정된 코드
```kotlin
// FitLogWidget.kt
val today = LocalDate.now()

// 이번주 월요일 계산 (DayOfWeek.MONDAY = 1)
val thisMonday = today.with(java.time.DayOfWeek.MONDAY)

// 지난주 월요일 = 이번주 월요일 - 7일
val startDate = thisMonday.minusWeeks(1)

// 이번주 일요일 = 이번주 월요일 + 6일
val endDate = thisMonday.plusDays(6)
```

### 수정 원리
- **시작일**: 항상 "지난주 월요일"로 고정
- **종료일**: 항상 "이번주 일요일"로 고정
- 이렇게 하면 14일이 항상 월~일 / 월~일 두 주로 구성됨
- 요일 헤더 "월화수목금토일"과 정확히 일치

### 예시 (2026-02-02 월요일 기준)
```
이번주 월요일: 2026-02-02
지난주 월요일: 2026-01-26
이번주 일요일: 2026-02-08

위젯 표시:
        월  화  수  목  금  토  일
지난주: 26  27  28  29  30  31   1
이번주:  2   3   4   5   6   7   8
```

## 수정된 파일
- `app/src/main/java/com/fitlog/widget/FitLogWidget.kt`
  - `loadWidgetData()` 함수의 날짜 계산 로직 수정

## 테스트 확인 사항
1. 월요일에 위젯 확인 → 날짜가 월요일 열에 정확히 표시되는지
2. 다른 요일에도 날짜가 올바른 요일 열에 표시되는지
3. 오늘 날짜 하이라이트가 정확한 위치에 표시되는지
4. 운동 기록이 있는 날짜가 올바르게 표시되는지
