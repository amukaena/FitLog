# FitLog - 화면 설계

## 1. 화면 구성 개요

```
┌─────────────────────────────────────────────┐
│                   앱 시작                    │
└─────────────────────┬───────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────┐
│             메인 화면 (캘린더)               │
│  ┌───────────────────────────────────────┐  │
│  │         월간 캘린더 표시               │  │
│  │    (운동 기록 있는 날짜 표시)          │  │
│  └───────────────────────────────────────┘  │
│  ┌───────────────────────────────────────┐  │
│  │      선택된 날짜의 운동 목록           │  │
│  └───────────────────────────────────────┘  │
│                  [+ 추가]                    │
└────────┬────────────────────────┬───────────┘
         │                        │
         ▼                        ▼
┌─────────────────┐    ┌─────────────────────┐
│  운동 기록 추가  │    │   운동 목록 관리     │
│  / 수정 화면     │    │      화면           │
└─────────────────┘    └─────────────────────┘
```

## 2. 상세 화면 설계

### 2.1 메인 화면 (CalendarScreen)

캘린더와 해당 날짜의 운동 기록을 표시하는 메인 화면

```
┌─────────────────────────────────────────┐
│  ☰  FitLog                    ⚙️       │
├─────────────────────────────────────────┤
│         ◀  2024년 1월  ▶               │
├─────────────────────────────────────────┤
│  일   월   화   수   목   금   토       │
├─────────────────────────────────────────┤
│       1    2    3    4    5    6       │
│            ●                   ●       │
│  7    8    9   10   11   12   13      │
│  ●              ●                      │
│  14  [15]  16   17   18   19   20     │
│       ●                                │
│  21   22   23   24   25   26   27     │
│                                        │
│  28   29   30   31                     │
├─────────────────────────────────────────┤
│  📅 1월 15일 월요일                     │
│  💪 가슴/삼두                    [편집] │
├─────────────────────────────────────────┤
│  ┌─────────────────────────────────┐   │
│  │ 🏋️ 벤치프레스                   │   │
│  │ 3세트                           │   │
│  │ 60kg x 10 / 70kg x 8 / 80kg x 6 │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 🏋️ 트라이셉스 익스텐션          │   │
│  │ 2세트                           │   │
│  │ 20kg x 12 / 20kg x 10           │   │
│  └─────────────────────────────────┘   │
│                                        │
│  [ + 운동 추가 ]    [ 📋 이전 기록 복사 ]│
└─────────────────────────────────────────┘
```

**기능:**
- 월 이동 (이전/다음)
- 날짜 선택
- 운동 기록이 있는 날짜에 마커 표시
- 선택된 날짜의 운동 목록 표시
- **일일 운동 타이틀 표시 (가슴/삼두 등)**
- 운동 추가 버튼
- **이전 기록 복사 버튼**

---

### 2.2 일일 운동 기록 화면 (DailyWorkoutScreen)

특정 날짜에 운동을 기록하는 화면

```
┌─────────────────────────────────────────┐
│  ←  운동 기록                   [저장]  │
├─────────────────────────────────────────┤
│  📅 2024년 1월 15일                     │
├─────────────────────────────────────────┤
│  오늘의 운동 제목                        │
│  ┌─────────────────────────────────┐   │
│  │ 가슴/삼두                       │   │
│  └─────────────────────────────────┘   │
│                                        │
│  메모 (선택)                            │
│  ┌─────────────────────────────────┐   │
│  │ 오늘 컨디션 좋음                 │   │
│  └─────────────────────────────────┘   │
├─────────────────────────────────────────┤
│  ≡ 🏋️ 벤치프레스                 [편집]│
│  ┌─────────────────────────────────┐   │
│  │ 1. 60kg x 10                    │   │
│  │ 2. 70kg x 8                     │   │
│  │ 3. 80kg x 6                     │   │
│  └─────────────────────────────────┘   │
│                                        │
│  ≡ 🏋️ 트라이셉스 익스텐션        [편집]│
│  ┌─────────────────────────────────┐   │
│  │ 1. 20kg x 12                    │   │
│  │ 2. 20kg x 10                    │   │
│  └─────────────────────────────────┘   │
│                                        │
│           [ + 운동 추가 ]               │
└─────────────────────────────────────────┘
```

**기능:**
- **운동 제목 입력 (가슴/삼두, 등/이두 등)**
- 메모 입력
- 여러 운동 추가
- 운동별 세트 관리 (편집 버튼)
- **드래그앤드롭으로 운동 순서 변경** (≡ 핸들)

---

### 2.3 운동 세트 편집 화면 (WorkoutSetEditScreen)

개별 운동의 세트를 편집하는 화면

```
┌─────────────────────────────────────────┐
│  ←  벤치프레스                  [완료]  │
├─────────────────────────────────────────┤
│                                        │
│  세트 기록                              │
│  ┌─────────────────────────────────┐   │
│  │ 세트 1                          │   │
│  │ 무게: [  60  ] kg  횟수: [ 10 ] │   │
│  │                            [🗑] │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 세트 2                          │   │
│  │ 무게: [  70  ] kg  횟수: [  8 ] │   │
│  │                            [🗑] │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 세트 3                          │   │
│  │ 무게: [  80  ] kg  횟수: [  6 ] │   │
│  │                            [🗑] │   │
│  └─────────────────────────────────┘   │
│                                        │
│           [ + 세트 추가 ]               │
│                                        │
└─────────────────────────────────────────┘
```

**기능:**
- 세트별 무게/횟수 입력
- 세트 추가/삭제

---

### 2.4 운동 선택 바텀시트 (ExerciseSelectBottomSheet)

운동을 선택하는 바텀시트

```
┌─────────────────────────────────────────┐
│  ─────                                  │
│  운동 선택                              │
├─────────────────────────────────────────┤
│  🔍 [검색...]                           │
├─────────────────────────────────────────┤
│  💪 가슴                                │
│    ├─ 벤치프레스                        │
│    ├─ 인클라인 벤치프레스               │
│    ├─ 덤벨 플라이                       │
│    └─ 푸시업                            │
│  💪 등                                  │
│    ├─ 데드리프트                        │
│    ├─ 랫풀다운                          │
│    └─ ...                              │
│  ...                                   │
├─────────────────────────────────────────┤
│  [ + 새 운동 추가 ]                     │
└─────────────────────────────────────────┘
```

---

### 2.5 이전 기록 복사 바텀시트 (CopyWorkoutBottomSheet)

이전 날짜의 운동 기록을 복사하는 바텀시트

```
┌─────────────────────────────────────────┐
│  ─────                                  │
│  이전 기록 복사                          │
├─────────────────────────────────────────┤
│  최근 운동 기록에서 선택하세요           │
├─────────────────────────────────────────┤
│  ┌─────────────────────────────────┐   │
│  │ 1월 13일 (토)                   │   │
│  │ 등/이두                         │   │
│  │ 데드리프트, 랫풀다운, 바벨컬    │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 1월 11일 (목)                   │   │
│  │ 하체                            │   │
│  │ 스쿼트, 레그프레스, 런지        │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 1월 8일 (월)                    │   │
│  │ 가슴/삼두                       │   │
│  │ 벤치프레스, 트라이셉스 익스텐션 │   │
│  └─────────────────────────────────┘   │
│  ...                                   │
└─────────────────────────────────────────┘
```

**기능:**
- 최근 운동 기록 목록 표시
- 선택 시 해당 날짜 기록 복사 (새 ID 부여)
- 타이틀, 운동 종목, 세트 정보(무게/횟수) 모두 그대로 복사
- 복사 후 필요한 부분만 수정하여 사용

---

### 2.6 운동 목록 관리 화면 (ExerciseManageScreen)

운동 종목을 관리하는 화면 (설정에서 접근)

```
┌─────────────────────────────────────────┐
│  ←  운동 목록 관리              [+ 추가]│
├─────────────────────────────────────────┤
│  [전체] [가슴] [등] [어깨] [팔] [하체]  │
├─────────────────────────────────────────┤
│  최근 사용                              │
│  ┌─────────────────────────────────┐   │
│  │ 🏋️ 벤치프레스           1일 전 │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 🏋️ 스쿼트               3일 전 │   │
│  └─────────────────────────────────┘   │
│                                        │
│  ─────────────────────────────────     │
│  기타 운동                              │
│  ┌─────────────────────────────────┐   │
│  │ 🏋️ 인클라인 벤치프레스         │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ 🏋️ 덤벨 플라이                 │   │
│  └─────────────────────────────────┘   │
│                                        │
└─────────────────────────────────────────┘
```

**기능:**
- 카테고리별 필터
- 운동 추가 (삭제 없음 - 안 쓰면 자연스럽게 하단으로)
- 운동 이름 수정 (사용자 추가 운동만)
- **정렬**: 최근 사용순 → 미사용 운동은 하단에 표시

---

### 2.7 설정 화면 (SettingsScreen)

```
┌─────────────────────────────────────────┐
│  ←  설정                                │
├─────────────────────────────────────────┤
│                                        │
│  📋 운동 목록 관리                  →   │
│                                        │
│  ────────────────────────────────────  │
│  백업 및 복원                           │
│  ────────────────────────────────────  │
│                                        │
│  ☁️ Google Drive 백업              →   │
│     마지막 백업: 2024.01.15 10:30      │
│                                        │
│  📤 파일로 내보내기 (JSON)          →   │
│                                        │
│  📥 파일에서 가져오기               →   │
│                                        │
│  ────────────────────────────────────  │
│                                        │
│  ℹ️ 앱 정보                         →   │
│                                        │
└─────────────────────────────────────────┘
```

---

### 2.8 Google Drive 백업 화면 (GoogleDriveBackupScreen)

```
┌─────────────────────────────────────────┐
│  ←  Google Drive 백업                   │
├─────────────────────────────────────────┤
│                                        │
│  ┌─────────────────────────────────┐   │
│  │  👤 user@gmail.com              │   │
│  │     연결됨                   [해제]│   │
│  └─────────────────────────────────┘   │
│                                        │
│  ────────────────────────────────────  │
│                                        │
│  마지막 백업                            │
│  2024년 1월 15일 10:30                  │
│                                        │
│  ────────────────────────────────────  │
│                                        │
│       [ 지금 백업하기 ]                 │
│                                        │
│       [ 백업에서 복원하기 ]             │
│                                        │
│  ────────────────────────────────────  │
│                                        │
│  자동 백업                       [ ON ] │
│  (앱 종료 시 자동 백업)                 │
│                                        │
└─────────────────────────────────────────┘
```

**기능:**
- Google 계정 연결/해제
- 수동 백업
- 백업에서 복원
- 자동 백업 설정

---

### 2.9 홈 화면 위젯 (4x2)

```
┌───────────────────────────────────────────────────┐
│  FitLog - 2주간 기록                              │
├───────────────────────────────────────────────────┤
│   월    화    수    목    금    토    일          │
│   ●    ○    ●    ●    ○    ●    ○   ← 저번주   │
│  등/이두      가슴  하체       어깨               │
├───────────────────────────────────────────────────┤
│   월    화    수    목    금    토    일          │
│   ●    ●    ○    ○    ○    ○    ○   ← 이번주   │
│  가슴  등/이두                                    │
│  /삼두                                           │
└───────────────────────────────────────────────────┘
  ● 운동함 (클릭 → 해당 날짜로 이동)
  ○ 운동 안함
```

**기능:**
- 저번주/이번주 (14일) 운동 여부 표시
- 운동한 날짜에 타이틀 표시
- 날짜 클릭 시 앱의 해당 날짜 화면으로 이동

---

## 3. 화면 흐름 (Navigation)

```
┌──────────────┐
│  홈 위젯     │ ─────────────────────────────────┐
└──────────────┘                                  │
                                                  ▼
                      ┌─────────────────────────────────┐
                      │       메인 화면 (캘린더)         │
                      └───────────────┬─────────────────┘
                                      │
        ┌─────────────────────────────┼─────────────────────────────┐
        │                             │                             │
        ▼                             ▼                             ▼
┌───────────────┐          ┌──────────────────┐          ┌──────────────┐
│ 일일 운동 기록 │          │  이전 기록 복사   │          │     설정      │
│     화면      │          │    바텀시트       │          │              │
└───────┬───────┘          └──────────────────┘          └───────┬──────┘
        │                                                        │
   ┌────┴────┐                               ┌───────────────────┼───────────────────┐
   │         │                               │                   │                   │
   ▼         ▼                               ▼                   ▼                   ▼
┌────────┐ ┌────────┐                 ┌──────────┐       ┌────────────┐       ┌────────┐
│운동선택│ │세트편집│                 │ 운동목록 │       │Google Drive│       │앱 정보 │
│바텀시트│ │  화면  │                 │   관리   │       │   백업     │       │        │
└────────┘ └────────┘                 └──────────┘       └────────────┘       └────────┘
```

## 4. 컬러 팔레트 (다크 모드 기본)

> **테마**: 다크 모드 전용 (라이트 모드 미지원)

| 용도 | 색상 | 설명 |
|------|------|------|
| Primary | #4CAF50 | 메인 액션, 버튼 (녹색) |
| Primary Variant | #81C784 | 강조 (밝은 녹색) |
| Background | #121212 | 앱 배경 (어두운 회색) |
| Surface | #1E1E1E | 카드, 바텀시트 배경 |
| On Surface | #FFFFFF | 텍스트 (흰색) |
| On Surface Variant | #B0B0B0 | 보조 텍스트 (회색) |
| 운동 기록 마커 | #4CAF50 | 캘린더 마커 (녹색) |
| 오늘 날짜 | #81C784 | 오늘 날짜 강조 |
| Error | #CF6679 | 에러, 삭제 (붉은색) |

## 5. 삭제 정책

| 대상 | 확인 다이얼로그 | 비고 |
|------|----------------|------|
| 하루 치 전체 (DailyWorkout) | ✅ 필요 | "1월 15일 운동 기록을 삭제할까요?" |
| 개별 운동 (WorkoutRecord) | ❌ 불필요 | 바로 삭제 |
| 세트 (WorkoutSet) | ❌ 불필요 | 바로 삭제 |

## 6. 위젯 갱신 정책

| 시점 | 갱신 여부 |
|------|----------|
| 운동 기록 저장/수정/삭제 | ✅ 즉시 갱신 |
| 앱 실행 시 | ✅ 갱신 |
| 자정 (날짜 변경) | ❌ 별도 처리 없음 |

> 자정에 "이번주" 범위가 바뀌어도 다음 앱 실행 또는 운동 기록 시 자동 갱신됨
