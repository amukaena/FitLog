# FitLog - 개발 계획

## 1. 개발 단계 (Milestones)

### Phase 1: 프로젝트 초기 설정 ✅
- [x] Android Studio 프로젝트 생성
- [x] Gradle 설정 (의존성 추가)
- [x] 프로젝트 폴더 구조 설정
- [x] 기본 테마 설정

### Phase 2: 데이터 레이어 ✅
- [x] Room 데이터베이스 설정
- [x] Entity 클래스 생성 (Exercise, DailyWorkout, WorkoutRecord, WorkoutSet)
- [x] DAO 인터페이스 생성
- [x] Repository 구현
- [x] 기본 운동 데이터 초기화

### Phase 3: 캘린더 화면 ✅
- [x] 캘린더 UI 구현
- [x] 월 이동 기능
- [x] 날짜 선택 기능
- [x] 운동 기록 마커 표시
- [x] 선택 날짜 운동 목록 표시

### Phase 4: 운동 기록 기능 ✅
- [x] 운동 선택 바텀시트
- [x] 운동 기록 추가 화면
- [x] 세트 추가/삭제
- [x] 무게/횟수 입력
- [x] 기록 저장
- [ ] 드래그앤드롭 운동 순서 변경 _(2차 개발)_

### Phase 5: 운동 관리 ✅
- [x] 운동 목록 관리 화면 (최근 사용순 정렬)
- [x] 커스텀 운동 추가
- [x] 운동 사용 시 lastUsedAt 업데이트

### Phase 6: 설정 및 백업 ⚠️ (부분 완료)
- [x] 설정 화면
- [x] JSON 내보내기
- [x] JSON 가져오기
- [ ] Google Drive 연동 (OAuth 2.0) _(2차 개발)_
- [ ] Google Drive 백업/복원 _(2차 개발)_

### Phase 7: 홈 화면 위젯 _(2차 개발)_
- [ ] Glance 위젯 설정
- [ ] 2주간 운동 기록 표시
- [ ] 위젯 클릭 시 앱 이동 (Deep Link)

### Phase 8: 마무리 _(2차 개발)_
- [ ] UI 개선
- [ ] 버그 수정
- [ ] 테스트
- [ ] (선택) 에러 로그 파일 저장 기능 추가

---

## 2. 기술 세부 사항

### 2.1 필요한 라이브러리 (Gradle 의존성)

```kotlin
// build.gradle.kts (app level)

plugins {
    id("com.android.application")
    id("org.jetbrains.kotlin.android")
    id("kotlin-kapt")
    id("com.google.dagger.hilt.android")
}

dependencies {
    // Core
    implementation("androidx.core:core-ktx:1.12.0")
    implementation("androidx.lifecycle:lifecycle-runtime-ktx:2.7.0")

    // Compose
    implementation(platform("androidx.compose:compose-bom:2024.02.00"))
    implementation("androidx.compose.ui:ui")
    implementation("androidx.compose.ui:ui-graphics")
    implementation("androidx.compose.ui:ui-tooling-preview")
    implementation("androidx.compose.material3:material3")
    implementation("androidx.activity:activity-compose:1.8.2")
    implementation("androidx.navigation:navigation-compose:2.7.7")

    // Room
    implementation("androidx.room:room-runtime:2.6.1")
    implementation("androidx.room:room-ktx:2.6.1")
    kapt("androidx.room:room-compiler:2.6.1")

    // Hilt
    implementation("com.google.dagger:hilt-android:2.50")
    kapt("com.google.dagger:hilt-compiler:2.50")
    implementation("androidx.hilt:hilt-navigation-compose:1.1.0")

    // Gson (JSON 처리)
    implementation("com.google.code.gson:gson:2.10.1")

    // Glance (위젯)
    implementation("androidx.glance:glance-appwidget:1.1.0")
    implementation("androidx.glance:glance-material3:1.1.0")

    // Google Drive API
    implementation("com.google.android.gms:play-services-auth:21.0.0")
    implementation("com.google.api-client:google-api-client-android:2.2.0")
    implementation("com.google.apis:google-api-services-drive:v3-rev20231128-2.0.0")
}
```

### 2.2 폴더 구조

```
app/src/main/java/com/fitlog/
├── FitLogApplication.kt          # Application 클래스
├── MainActivity.kt               # 메인 액티비티
│
├── data/
│   ├── local/
│   │   ├── FitLogDatabase.kt     # Room 데이터베이스
│   │   ├── dao/
│   │   │   ├── ExerciseDao.kt
│   │   │   ├── DailyWorkoutDao.kt
│   │   │   ├── WorkoutRecordDao.kt
│   │   │   └── WorkoutSetDao.kt
│   │   └── entity/
│   │       ├── ExerciseEntity.kt
│   │       ├── DailyWorkoutEntity.kt
│   │       ├── WorkoutRecordEntity.kt
│   │       └── WorkoutSetEntity.kt
│   │
│   ├── repository/
│   │   ├── ExerciseRepositoryImpl.kt
│   │   └── WorkoutRepositoryImpl.kt
│   │
│   └── remote/
│       └── GoogleDriveService.kt  # Google Drive API
│
├── domain/
│   ├── model/
│   │   ├── Exercise.kt
│   │   ├── DailyWorkout.kt
│   │   ├── WorkoutRecord.kt
│   │   └── WorkoutSet.kt
│   │
│   ├── repository/
│   │   ├── ExerciseRepository.kt
│   │   ├── WorkoutRepository.kt
│   │   └── BackupRepository.kt
│   │
│   └── usecase/
│       ├── GetExercisesUseCase.kt
│       ├── SaveWorkoutUseCase.kt
│       ├── CopyWorkoutUseCase.kt
│       └── ...
│
├── presentation/
│   ├── navigation/
│   │   └── NavGraph.kt
│   │
│   ├── calendar/
│   │   ├── CalendarScreen.kt
│   │   └── CalendarViewModel.kt
│   │
│   ├── workout/
│   │   ├── DailyWorkoutScreen.kt
│   │   ├── WorkoutSetEditScreen.kt
│   │   └── WorkoutViewModel.kt
│   │
│   ├── exercise/
│   │   ├── ExerciseManageScreen.kt
│   │   └── ExerciseViewModel.kt
│   │
│   ├── settings/
│   │   ├── SettingsScreen.kt
│   │   ├── GoogleDriveBackupScreen.kt
│   │   └── SettingsViewModel.kt
│   │
│   └── components/
│       ├── CalendarComponent.kt
│       ├── WorkoutCard.kt
│       ├── ExerciseSelectBottomSheet.kt
│       ├── CopyWorkoutBottomSheet.kt
│       └── ...
│
├── widget/
│   ├── FitLogWidget.kt            # Glance 위젯
│   ├── FitLogWidgetReceiver.kt
│   └── WidgetDataProvider.kt
│
├── di/
│   ├── AppModule.kt
│   └── RepositoryModule.kt
│
└── util/
    ├── DateUtils.kt
    └── BackupManager.kt
```

---

## 3. 다음 단계

개발을 시작하려면:

1. **Android Studio 설치** (설치되어 있지 않다면)
2. **프로젝트 생성** - 저와 함께 진행
3. **Phase 1부터 순차적으로 진행**

준비가 되면 말씀해주세요. 프로젝트 생성부터 시작하겠습니다.
